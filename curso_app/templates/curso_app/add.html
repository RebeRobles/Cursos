{% extends "curso_app/base.html"%}
{% load static %}
{% block title %}{% endblock %}


{% block content %}
{% include "curso_app/navbar.html" %} 
<div class="container">
    <div class="card col col-8 mb-5">
        <div class="card-title">
            <h1 class= 'Display-1'>Add a new Course</h1>
        </div>
        <form action="create" method="POST">
            {% csrf_token %}
            <div class="card-body">    
                <div class="mb-3 row">
                    <label for="name" class="col-sm-3 col-form-label fw-bold">Name:</label>
                    <div class="col-sm 9">
                        <input class="form-control" type="text" name="name" id="name" required>
                    </div>
                </div>
                <div class="mb-3 row">
                    <label for="description" class="col-sm-3 col-form-label fw-bold">Description:</label>
                    <div class="col-sm 9">
                        <input class="form-control" type="text" name="description" id="description" required>
                    </div>
                </div>
            </div>
            <div class="card-footer bg-transparent mg-0">
                <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                    <input class="btn btn-success btn-sm float-right" type="submit" value="Add">
                </div>
            </div>
        </form>
        {% if messages %}
                <div class="alert alert-danger alert-dismissible fade show" role="alert">
                    <ul>
                        {% for message in messages %}  
                            <li><strong>{{ message }}</strong></li>
                        {% endfor %}
                    </ul>
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                </div>
        {% endif %}
    </div>
    <div class="row align-center">
        <h4>Courses</h4>       
        <div class="table responsive">
            <table class="table table-bordered table-striped">
                <thead class="bg-info text-dark">
                    <tr class="text-center">
                        <th>Course Name</th>
                        <th>Description</th>
                        <th>Date Added</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <div class="row col-sm-12 col-md-4">
                    {% for course in courses %}
                        <tr class="text-center">
                            <td>{{course.name}}</a></td>
                            <td>{{course.descrip_course.description}}</td>
                            <td>{{course.created_at|date:"M d, Y"}}</td>
                            <td><a href="/remove/{{course.id}}">Remove</a></td>
                        </tr>
                    {% endfor %}
                    </div>
                </tbody>
            </table>    
        </div>   


</div>

{%endblock%}